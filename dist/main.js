(()=>{"use strict";(e=>{const t=setInterval(o,1e3,e);function o(e){const o=document.querySelector("#timer-hours"),s=document.querySelector("#timer-minutes"),n=document.querySelector("#timer-seconds");function i(e){return e>=0&&e<10?"0"+e:e}!function(){const r=function(){const t=(new Date(e).getTime()-(new Date).getTime())/1e3,o=Math.floor(t%60),s=Math.floor(t/60%60);return{timeRemaining:t,hours:Math.floor(t/60/60),minutes:s,seconds:o}}();o.textContent=i(r.hours),s.textContent=i(r.minutes),n.textContent=i(r.seconds),r.timeRemaining<=0&&(clearInterval(t),o.textContent="00",s.textContent="00",n.textContent="00")}()}o(e)})("10 january 2021"),(()=>{const e=document.querySelector("menu"),t=document.querySelector("body"),o=(e.querySelectorAll("ul>li>a"),()=>{e.classList.toggle("active-menu")});t.addEventListener("click",(t=>{let s=t.target;s.closest(".active-menu")||!0!==e.classList.contains("active-menu")||o(),s.closest(".menu")&&o(),s.closest(".close-btn")&&o(),s.closest("a")&&null!==s.closest("menu")&&!s.closest(".close-btn")&&(o(),t.preventDefault(),document.getElementById(s.getAttribute("href").substr(1)).scrollIntoView({block:"start",behavior:"smooth"}))}))})(),(()=>{const e=document.querySelector(".popup"),t=document.querySelector(".popup-content");document.querySelectorAll(".popup-btn").forEach((o=>{o.addEventListener("click",(o=>{if(o.preventDefault(),e.style.display="block",t.style.top="30%",document.documentElement.offsetWidth>=768){let e=0;requestAnimationFrame((function o(){e++,t.style.opacity=e/100,e<100&&setTimeout(o,2)}))}}))})),e.addEventListener("click",(t=>{let o=t.target;o.classList.contains("popup-close")?e.style.display="none":(o=o.closest(".popup-content"),o||(e.style.display="none"))}))})(),(()=>{const e=document.querySelector('a[href*="#service-block"]');document.documentElement.style,e.addEventListener("click",(t=>{t.preventDefault();const o=e.getAttribute("href").substr(1);document.getElementById(o).scrollIntoView({block:"start",behavior:"smooth"})}))})(),(()=>{const e=document.querySelector(".service-header"),t=document.querySelectorAll(".service-header-tab"),o=document.querySelectorAll(".service-tab");e.addEventListener("click",(e=>{let s=e.target;s=s.closest(".service-header-tab"),s&&t.forEach(((e,n)=>{e===s&&(e=>{for(let s=0;s<o.length;s++)e===s?(t[s].classList.add("active"),o[s].classList.remove("d-none")):(t[s].classList.remove("active"),o[s].classList.add("d-none"))})(n)}))}))})(),(()=>{const e=document.querySelectorAll(".portfolio-item"),t=document.querySelector(".portfolio-content");let o,s=document.querySelectorAll(".dot"),n=0;const i=(e,t,o)=>{e[t].classList.remove(o)},r=(e,t,o)=>{e[t].classList.add(o)},l=()=>{i(e,n,"portfolio-item-active"),i(s,n,"dot-active"),n++,n>=e.length&&(n=0),r(e,n,"portfolio-item-active"),r(s,n,"dot-active")},c=(t=1500)=>{0===s.length&&(e=>{for(let t=0;t<e;t++){let e=document.createElement("li");e.classList.add("dot"),document.querySelector(".portfolio-dots").append(e)}s=document.querySelectorAll(".dot"),r(s,0,"dot-active")})(e.length),o=setInterval(l,t)};t.addEventListener("click",(t=>{t.preventDefault();let o=t.target;o.matches(".portfolio-btn, .dot")&&(i(e,n,"portfolio-item-active"),i(s,n,"dot-active"),o.matches("#arrow-right")?n++:o.matches("#arrow-left")?n--:o.matches(".dot")&&s.forEach(((e,t)=>{e===o&&(n=t)})),n>=e.length&&(n=0),n<0&&(n=e.length-1),r(e,n,"portfolio-item-active"),r(s,n,"dot-active"))})),t.addEventListener("mouseover",(e=>{e.target.matches(".portfolio-btn, .dot")&&clearInterval(o)})),t.addEventListener("mouseout",(e=>{e.target.matches(".portfolio-btn, .dot")&&c()})),c(1500)})(),(()=>{const e=document.querySelector(".command>.container>.row");let t;e.addEventListener("mouseover",(e=>{e.target.matches("img")&&(t=e.target.src,e.target.src=e.target.dataset.img)})),e.addEventListener("mouseout",(e=>{e.target.matches("img")&&(e.target.src=t)}))})(),((e=100)=>{const t=document.querySelector(".calc-block"),o=document.querySelector(".calc-type"),s=document.querySelector(".calc-square"),n=document.querySelector(".calc-count"),i=document.querySelector(".calc-day"),r=document.getElementById("total"),l=(e,t=0)=>{let o=Math.ceil(e/1e3*11);t<e&&(t+=+o),t<e?(setTimeout(requestAnimationFrame((()=>{l(e,t)})),1),r.textContent=t):r.textContent=Math.round(e)};t.addEventListener("change",(t=>{const r=t.target;(r.matches(".calc-type")||r.matches(".calc-square")||r.matches(".calc-count")||r.matches(".calc-day"))&&(()=>{let t=1,r=1,c=0;const a=o.options[o.selectedIndex].value,d=+s.value;n.value>1&&(t+=(n.value-1)/10),i.value&&i.value<5?r*=2:i.value&&i.value<10&&(r*=1.5),a&&d&&(c=e*a*d*t*r,requestAnimationFrame((()=>{l(c)})))})()}))})(100),(()=>{try{const e={main:".companies-wrapper",wrap:".companies-hor",slidesToShow:4,infinity:!0,responsive:[{breakpoint:1024,slidesToShow:3},{breakpoint:768,slidesToShow:2},{breakpoint:576,slidesToShow:1}]};class t{constructor({main:e,wrap:t,next:o,prev:s,infinity:n=!1,position:i=0,slidesToShow:r=3,responsive:l=[]}){e&&t||console.warn("slider-нам доверяют: Необходимо 2 свойства, main и wrap"),this.main=document.querySelector(e),this.wrap=document.querySelector(t),this.slides=document.querySelector(t).children,this.next=document.querySelector(o),this.prev=document.querySelector(s),this.slidesToShow=r,this.options={position:i,infinity:n,widthSlide:Math.floor(100/this.slidesToShow)},this.responsive=l}init(){this.addGloClass(),this.addStyle(),this.prev&&this.next||this.addArrow(),this.controlSlider(),this.responsive&&this.responseInit()}addGloClass(){this.main.classList.add("glo-slider"),this.wrap.classList.add("glo-slider__wrap");for(const e of this.slides)e.classList.add("glo-slider__item")}addStyle(){const e=document.createElement("style");e.id="sliderCarusel-style",e.textContent=`\n                .glo-slider {\n                    overflow: hidden !important;\n                }\n                .glo-slider__wrap {\n                    display: flex !important;\n                    transition: transform 0.5s !important;\n                    will-change: transform !important;          \n                }\n                .glo-slider__item {\n                    display: flex !important;\n                    align-items: center;\n                    justify-content: center;\n                    flex: 0 0 ${this.options.widthSlide}% !important;\n                    margin: auto 0 !important;\n                }\n                .glo-slider__prev, \n                .glo-slider__next {\n                    margin: 0 10px;\n                    border: 20px solid transparent;\n                    background: transparent;\n                }\n                .glo-slider__next{\n                    border-left-color: #19bbff\n                }\n                .glo-slider__prev{\n                    border-right-color: #19bbff\n                }\n                .glo-slider__prev:hover,\n                .glo-slider__next:hover,\n                .glo-slider__prev:focus,\n                .glo-slider__next:focus {\n                    background: transparent;\n                    outline: transparent;\n                }\n            `,document.head.appendChild(e)}controlSlider(){this.prev.addEventListener("click",this.prevSlider.bind(this)),this.next.addEventListener("click",this.nextSlider.bind(this))}prevSlider(){(this.options.infinity||this.options.position>0)&&(--this.options.position,console.log(this.options.position),this.options.position<0&&(this.options.position=this.slides.length-this.slidesToShow),this.wrap.style.transform=`translateX(-${this.options.position*this.options.widthSlide}%)`)}nextSlider(){(this.options.infinity||this.options.position<this.slides.length-this.slidesToShow)&&(++this.options.position,console.log(this.options.position),this.options.position>this.slides.length-this.slidesToShow&&(this.options.position=0),this.wrap.style.transform=`translateX(-${this.options.position*this.options.widthSlide}%)`)}addArrow(){this.prev=document.createElement("button"),this.next=document.createElement("button"),this.prev.className="glo-slider__prev",this.next.className="glo-slider__next",this.main.appendChild(this.prev),this.main.appendChild(this.next)}responseInit(){const e=this.slidesToShow,t=this.responsive.map((e=>e.breakpoint)),o=Math.max(...t),s=()=>{const s=document.documentElement.clientWidth;if(s<o)for(let e=0;e<t.length;e++)s<t[e]&&(this.slidesToShow=this.responsive[e].slidesToShow,this.options.widthSlide=Math.floor(100/this.slidesToShow),this.addStyle());else this.slidesToShow=e,this.options.widthSlide=Math.floor(100/this.slidesToShow),this.addStyle()};s(),window.addEventListener("resize",s)}}new t(e).init()}catch(e){console.warn(e),console.warn("slider-нам доверяют: Необходимо 2 свойства, main и wrap")}})(),(()=>{const e="Что то пошло не так...",t=document.querySelectorAll("form"),o=document.createElement("div");o.classList.add("preloader"),o.innerHTML='\n            <div class="circle circle-1"></div>\n            <div class="circle circle-2"></div>\n            <div class="circle circle-3"></div>\n            <div class="circle circle-4"></div>\n            <div class="circle circle-5"></div>                \n            ';const s=document.createElement("div");s.style.cssText="font-size: 2rem; color: #FFFFFF;",t.forEach((t=>{t.addEventListener("input",(e=>r(e.target,t))),t.addEventListener("submit",(r=>{r.preventDefault(),t.appendChild(s),s.textContent="";const a=new FormData(t);let d={};a.forEach(((e,t)=>{d[t]=e})),n(d)?(t.appendChild(o),c(d).then((e=>{if(200!==e.status)throw new Error("status network not 200");t.removeChild(o),s.textContent="Спсасибо! Мы скоро с вами свяжемся!",i(t)})).catch((n=>{t.removeChild(o),s.textContent=e,i(t),console.error(n)})).finally((()=>{l(t)}))):(s.textContent=e,i(t))}))}));const n=e=>!(""===e.user_name||""===e.user_email||""===e.user_phone||void 0!==e.user_message&&""===e.user_message||e.user_name.length<=3||e.user_email.length<=3||!/^\w+@\w+\.\w{2,}$/g.test(e.user_email)||e.user_phone.length<=7||!/^\+?[7|8]([-()]*\d){7,10}$/.test(e.user_phone)||void 0!==e.user_message&&e.user_message.length<=3),i=e=>{setTimeout((()=>{e.removeChild(s)}),5e3)},r=(e,t)=>{e.closest(".form-phone")&&(e.value=e.value.substring(0,12).replace(/[^\+0-9]/g,"")+e.value.substring(11).replace(/./g,""),/^\+?[7|8]([-()]*\d){7,10}$/.test(e.value)&&e.value.length>=8&&e.value.length<=12?e.style.border="":e.style.border="solid red"),(e.closest(".form-name")||e.closest("#form2-name"))&&(e.value=e.value.replace(/[^А-Яа-яЁё ]/gi,"")),e.closest(".form-email")&&(e.value=e.value.replace(/[^\w+@\w+\.\w]/gi,""),/^\w+@\w+\.\w{2,}$/g.test(e.value)&&e.value.length>3?e.style.border="":e.style.border="solid red"),e.closest(".mess")&&(e.value=e.value.replace(/[^А-Яа-яЁё\d .,?!'"]/gi,""))},l=e=>{e.querySelectorAll("input").forEach((e=>{e.value=""}))},c=e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})})()})();